{% extends "base.html" %}
{% load widget_tweaks %}
{% load static %}

{% block title %} Subscription Master - Module Master {% endblock %}

{% block body %}

	<div class="main">
		<div class="col-md-12">
			<div class="content-holder">
				<div class="row">
					<div class="col-md-12 order-md-1">
						<div class="row">
							<div class="col-md-12">
							    <div class="btn-holder">
							        <a class="link-btn-2" href="{% url 'add_individual_user' %}">Add User</a>
									<hr class="hrstyle" />
						        </div>
							</div>
						</div>
						<div class="row justify-content-center">
						    <div class="col-md-12 form-group">
							    <div class="input-group">
                                    <input type="text" class="form-control" id="myInput" placeholder="Search by Perigon ID, Name, Email id, Phone Number, Status">
									<span class="input-group-append">
									   <div class="input-group-text input-group-icon"><i class="fa fa-search" aria-hidden="true"></i></div>
									</span>
                                </div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
							    <div class="table-responsive">
									<table class="table table-bordered" id="datatable">
										<thead>
											<tr>
												<th>S.No</th>
												<th>Perigon ID</th>
												<th>User Name</th>
												<th>User Type</th>
												<th>Email Address</th>
												<th>Phone Number</th>
												<th>Status</th>
											</tr>
										</thead>
										<tbody id="myTable">
											{% for individual in customers %}
											<tr>
												<td>{{ forloop.counter }}</td>
												<td>{{ individual.special_id}}</td>
												<td >{{individual.title }}  {{individual.first_name}} {{individual.middle_name}} {{individual.last_name}}</td>
												<td>{{ individual.type_of_doctor}}</td>
												<td>{{ individual.email }}</td>
												<td>{{ individual.phone_no }}</td>
												<td>
												    <select class="form-control"  name="status1" id="select_dropdown">
													    <option value="Activate">Active</option>
													    <option value="Inactive">InActive </option>
													</select>
											    </td>
												{% endfor %}
										</tbody>
									</table>
								</div>
v
                            </div>
						</div>
				    </div>
                </div>
            </div>
        </div>
    </div>


    {% endblock %}
{% block javascript %}
<script>
	     function statusFunction() {
            var x = document.getElementById("status1").value;

            alert("Are you sure, do you want to " + x);
        }

		function statusFunction() {
            var x = document.getElementById("status1").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction() {
            var x = document.getElementById("status1").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction() {
            var x = document.getElementById("status1").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction1() {
            var x = document.getElementById("status1").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction2() {
            var x = document.getElementById("status2").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction3() {
            var x = document.getElementById("status3").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction4() {
            var x = document.getElementById("status4").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction5() {
            var x = document.getElementById("status5").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction6() {
            var x = document.getElementById("status6").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction7() {
            var x = document.getElementById("status7").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction8() {
            var x = document.getElementById("status8").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction9() {
            var x = document.getElementById("status9").value;

            alert("Are you sure, do you want to " + x);
        }
		function statusFunction10() {
            var x = document.getElementById("status10").value;

            alert("Are you sure, do you want to " + x);
        }


</script>
<script>
$(function() {
  var oTable = $('#datatable').DataTable({
  	"lengthMenu": [[10, 25, 50, -1], [10, 15, 20,25]],
    "pageLength": 4,
    "iDisplayLength": -1,
    "pagingType": "simple_numbers",
    "lengthChange": false,
  });
  $("#search_name").on('keyup', function (){
        $('#datatable').dataTable().fnFilter(this.value);
    });

  $("#datepicker_from").datepicker({
    "onSelect": function(date) {
      minDateFilter = new Date(date).getTime();
      console.log("minDateFilter"+minDateFilter)
      oTable.draw();
    }
  }).keyup(function() {
    minDateFilter = new Date(this.value).getTime();
    console.log("minDateFilterSecond"+minDateFilter)
    oTable.draw();
  });

  $("#datepicker_to").datepicker({
    "onSelect": function(date) {
      maxDateFilter = new Date(date).getTime();
      console.log("maxDateFilter"+maxDateFilter)
      oTable.draw();
    }
  }).keyup(function() {
    maxDateFilter = new Date(this.value).getTime();
    oTable.draw();
  });

});

// Date range filter
minDateFilter = "";
maxDateFilter = "";

$.fn.dataTableExt.afnFiltering.push(
  function(oSettings, aData, iDataIndex) {
    if (typeof aData._date == 'undefined') {
      aData._date = new Date(aData[0]).getTime();
    }

    if (minDateFilter && !isNaN(minDateFilter)) {
    	console.log("CHECK"+aData._date)
      if (aData._date < minDateFilter) {
        return false;
      }
    }

    if (maxDateFilter && !isNaN(maxDateFilter)) {
      if (aData._date > maxDateFilter) {
        return false;
      }
    }

    return true;
  }
);
    </script>

</script>
   <script>
		  $(function () {
			$('#myTab li:last-child a').tab('show')
		  })


</script>

<script>

		$(document).ready(function(){
  $("#myInput").on("keyup", function() {
	var value = $(this).val().toLowerCase();
	$("#myTable tr").filter(function() {
	  $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
	});
  });
});
</script>

{% endblock %}



